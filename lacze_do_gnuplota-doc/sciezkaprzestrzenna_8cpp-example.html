<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>≈ÅƒÖcze do GNUPlota: sciezkaprzestrzenna.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">≈ÅƒÖcze do GNUPlota
   &#160;<span id="projectnumber">0.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Wygenerowano przez Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Szukaj');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sciezkaprzestrzenna_8cpp-example.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">sciezkaprzestrzenna.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>Zawiera przyk≈Çad wizualizacji ≈õcie≈ºki poprzez wycinek powierzchni prostopad≈Çej do powierzchni sceny.</p>
<div class="image">
<img src="sciezka_przestrzenna.png" alt="sciezka_przestrzenna.png"/>
<div class="caption">
Zrzut ekranu pokazujƒÖcy wynik dzia≈Çania programu.</div></div>
<p> Kod programu:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;cstdlib&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="lacze__do__gnuplota_8hh.html">lacze_do_gnuplota.hh</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div><div class="line"></div><div class="line"><span class="preprocessor">#define SIATKA_XO        0</span></div><div class="line"><span class="preprocessor">#define SIATKA_XN      120</span></div><div class="line"><span class="preprocessor">#define SIATKA_YO        0</span></div><div class="line"><span class="preprocessor">#define SIATKA_YN       80</span></div><div class="line"><span class="preprocessor">#define SIATKA_X_KROK   5</span></div><div class="line"><span class="preprocessor">#define SIATKA_Y_KROK   5</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define  PRZESZKODA_R  15</span></div><div class="line"><span class="preprocessor">#define  PRZESZKODA1_Xo  90</span></div><div class="line"><span class="preprocessor">#define  PRZESZKODA1_Yo  55</span></div><div class="line"><span class="preprocessor">#define  PRZESZKODA2_Xo  30</span></div><div class="line"><span class="preprocessor">#define  PRZESZKODA2_Yo  40</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * Ta funkcja to tylko przyklad i nie ma nic wspolnego</span></div><div class="line"><span class="comment"> * z funkcja jaka naleøy skonstruowac na potrzeby realizacji</span></div><div class="line"><span class="comment"> * zadania.</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keywordtype">float</span> WyliczPotencjal(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)</div><div class="line">{</div><div class="line">  <span class="keywordtype">float</span>  d1 = abs(x-PRZESZKODA1_Xo) + abs(y-PRZESZKODA1_Yo);</div><div class="line">  <span class="keywordtype">float</span>  d2 = abs(x-PRZESZKODA2_Xo) + abs(y-PRZESZKODA2_Yo);</div><div class="line">  <span class="keywordtype">float</span>  d  = d1 &lt; d2 ? d1 : d2;</div><div class="line">  <span class="keywordflow">return</span> d &lt;  PRZESZKODA_R ? 100 : 100/d;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> ZapiszPolePotDoPliku(<span class="keyword">const</span> <span class="keywordtype">char</span> *NazwaPliku)</div><div class="line">{</div><div class="line">  ofstream Strm(NazwaPliku);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (Strm.fail()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = SIATKA_XO;  x &lt; SIATKA_XN; x += SIATKA_X_KROK) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = SIATKA_YO;  y &lt; SIATKA_YN; y += SIATKA_Y_KROK) {</div><div class="line">      Strm &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; y &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div><div class="line">           &lt;&lt; WyliczPotencjal(x,y) &lt;&lt; endl;</div><div class="line">    }</div><div class="line">    Strm &lt;&lt; endl;  <span class="comment">// Jedna linie zostawiamy wolna</span></div><div class="line">  }</div><div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> ZapiszSciezkeDo(ostream &amp;Strm, <span class="keywordtype">int</span> WspZ )</div><div class="line">{</div><div class="line">  Strm &lt;&lt; 10 &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; 50 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; WspZ &lt;&lt; endl;</div><div class="line">  Strm &lt;&lt; 40 &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; 70 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; WspZ &lt;&lt; endl;</div><div class="line">  Strm &lt;&lt; 80 &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; 20 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; WspZ &lt;&lt; endl;</div><div class="line">  Strm &lt;&lt; 110 &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; 40 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; WspZ &lt;&lt; endl;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">bool</span> ZapiszSciezkeDoPliku(<span class="keyword">const</span> <span class="keywordtype">char</span> *NazwaPliku)</div><div class="line">{</div><div class="line">  ofstream Strm(NazwaPliku);</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (Strm.fail()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">  ZapiszSciezkeDo(Strm,0);</div><div class="line">  Strm &lt;&lt; endl;  <span class="comment">// Tu nalezy wstawic jedna linie wolna.</span></div><div class="line">  ZapiszSciezkeDo(Strm,40);</div><div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">}</div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#define NAZWAPLIKU_POLEPOT &quot;dat/polepotencjalu.pow&quot; </span></div><div class="line"><span class="preprocessor">#define NAZWAPLIKU_SCIEZKA3D &quot;dat/sciezka3d.pow&quot; </span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">  <a name="_a0"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html">PzG::LaczeDoGNUPlota</a>  Lacze;</div><div class="line">  <span class="keywordtype">char</span> c;</div><div class="line"></div><div class="line">  Lacze.<a name="a1"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#a200ce6bdb980c314a9eafe49e8f2dd5e">Inicjalizuj</a>();  <span class="comment">// Tutaj startuje gnuplot.</span></div><div class="line">  Lacze.<a name="a2"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#ae92c65357bf682478cc68f77885b61d8">ZmienTrybRys</a>(<a name="a3"></a><a class="code" href="namespacePzG.html#aef59d70a0ee2eab473790613c3628944a856e6b0fa6b8a9dc184c60cf27dcc5d2">PzG::TR_3D</a>);</div><div class="line">  </div><div class="line">  Lacze.<a name="a4"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#a9c91987dfc869d6fcea96205c581daef">UstawZakresX</a>(0,120);</div><div class="line">  Lacze.<a name="a5"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#a54c6e9cf9ab2eae479451fd953c2717c">UstawZakresY</a>(0,80);</div><div class="line">  Lacze.<a name="a6"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#a1dbbb2b86fb13b8632e6bad9df2a82e3">UstawZakresZ</a>(0,110);</div><div class="line"></div><div class="line">  Lacze.<a name="a7"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#a94d8527fd78048ed6cb32ffb29e5f903">UstawRotacjeXZ</a>(60,30); <span class="comment">// Tu ustawiamy punkt obserwacji</span></div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (!ZapiszPolePotDoPliku(NAZWAPLIKU_POLEPOT)) {</div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;!!! Nie powiodl sie zapis do pliku: &quot;</span> NAZWAPLIKU_POLEPOT</div><div class="line">         &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">return</span> 1;</div><div class="line">  }</div><div class="line">  <span class="keywordflow">if</span> (!ZapiszSciezkeDoPliku(NAZWAPLIKU_SCIEZKA3D)) {</div><div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;!!! Nie powiodl sie zapis do pliku: &quot;</span> NAZWAPLIKU_SCIEZKA3D</div><div class="line">         &lt;&lt; endl;</div><div class="line">    <span class="keywordflow">return</span> 1;</div><div class="line">  }</div><div class="line"></div><div class="line">  Lacze.<a name="a8"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#aa815ce8ec16e12fc246cf422e562869e">DodajNazwePliku</a>(NAZWAPLIKU_POLEPOT); <span class="comment">// Przekazywana jest nazwa pliku, z</span></div><div class="line">                                        <span class="comment">// ktorego maja byc pobrane dane</span></div><div class="line">                                        <span class="comment">// do narysowania powierzchni.</span></div><div class="line">  Lacze.<a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#aa815ce8ec16e12fc246cf422e562869e">DodajNazwePliku</a>(NAZWAPLIKU_SCIEZKA3D);</div><div class="line">  Lacze.<a name="a9"></a><a class="code" href="classPzG_1_1LaczeDoGNUPlota.html#a065f5b8402737cc62b0ad4f66d028335">Rysuj</a>();        <span class="comment">// Teraz powinno pojawic sie okienko gnuplota</span></div><div class="line">                        <span class="comment">// z rysunkiem.</span></div><div class="line">  cout &lt;&lt; <span class="stringliteral">&quot;Nacisnij ENTER, aby zakonczyc.&quot;</span> &lt;&lt; endl;</div><div class="line">  cin &gt;&gt; noskipws &gt;&gt; c;</div><div class="line">}</div></div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Wygenerowano przez
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
